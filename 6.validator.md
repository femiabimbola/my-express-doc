# Express Validator 

You have to validate the data hitting your database and also data being run by the controller. <br/>

We can validate body, params, query

### Install Express Validator

```bash
npm install express-validator
```
The usage of the express validator.This validator is for filter query

```middleware.ts
import {query, validationResult} from "express-validator"

  query("filter")
    .isString()
    .notEmpty()
    .withMessage("Should not be empty")
    .isLength({min: 3, max: 10})
    .withMessage("min of 3 letter"),
```
The code  which the validator  is used. Validator comes before controller

```controller/user.ts
export const getUsersByFilter = (req: any, res: Response) => {
  const result = validationResult(req) // It get the result from the validation result
  const { filter, value } = req.query;
  if (filter && value)
    return res.status(200)
      .send(mockUsers.filter((user: any) => user[filter].includes(value)));
  return res.status(200).send({ msg: mockUsers });
};
```
This validator is for the body

```middleware.ts
import {body, validationResult} from "express-validator"

  body("username")
    .isString()
    .notEmpty()
    .withMessage("Should not be empty")
    .isLength({min: 3, max: 10})
    .withMessage({'Username cannot be less than 3'})
```
The code for the body

```user.ts
export const createUser = (req: Request, res: Response) => {
  const { body } = req;
  const newUser = { id: mockUsers[mockUsers.length - 1].id + 1, ...body };
  mockUsers.push(newUser);
  return res.status(201).send({ msg: newUser });
};
```